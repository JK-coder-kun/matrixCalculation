<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="math.js" type="text/javascript"></script>
    <style>
        .twobytwo,.threebythree,.fourbyfour{
            width: 500px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
            gap: 50px;
            margin: 20px 0;
        }
        .twobytwo .matrixA{
            display: grid;
            grid-template-columns: repeat(2,1fr);
        }
        .threebythree .matrixA{
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: repeat(3,1fr);
        }
        input{
            width: 100px;
        }
        .fourbyfour .matrixA{
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            grid-template-rows: repeat(4,1fr);
        }
    </style>
    <script defer>
        const matrix2by2 = document.querySelector(".twobytwo");
        const matrix3by3 = document.querySelector(".threebythree");
        const matrix4by4 = document.querySelector(".fourbyfour");
        const matrixType = document.querySelector(".matrixType");
       
        function changeDimension(){
            console.log(matrixType)
            switch (matrixType.value){
                case 2: matrix2by2.hidden=false;
                        matrix3by3.hidden=true;
                        matrix4by4.hidden=true;
                        break;
                case 3: matrix2by2.hidden=true;
                        matrix3by3.hidden=false;
                        matrix4by4.hidden=true;
                        break;

                case 4: matrix2by2.hidden=true;
                        matrix3by3.hidden=true;
                        matrix4by4.hidden=false;
                        break;
            }
        }
        function twoByTwoSolve(){
            let Anodes=document.querySelectorAll(".twobytwo .childOfA");
            let Bnodes=document.querySelectorAll(".twobytwo .childOfB");
            console.log(Anodes[0])
            let matrixA = math.matrix([[Anodes[0].value,Anodes[1].value],[Anodes[2].value,Anodes[3].value]]);
            let matrixB = math.matrix([[Bnodes[0].value],[Bnodes[1].value]]);
            let Ainverse = math.inv(matrixA);
            let ans = math.multiply(Ainverse,matrixB);
            let result = document.querySelector(".twoByTwoAns");

            console.log(result);
            result.innerHTML="x="+math.round(ans.subset(math.index(0,0))*1000)/1000+"<br>"+"y="+ math.round(ans.subset(math.index(1,0))*1000)/1000;
        }
        function threeByThreeSolve(){
            let Anodes=document.querySelectorAll(".threebythree .childOfA");
            let Bnodes=document.querySelectorAll(".threebythree .childOfB");
            console.log(Anodes[0])
            let matrixA = math.matrix([[Anodes[0].value,Anodes[1].value,Anodes[2].value],
                                        [Anodes[3].value,Anodes[4].value,Anodes[5].value],
                                        [Anodes[6].value,Anodes[7].value,Anodes[8].value]]);
            let matrixB = math.matrix([[Bnodes[0].value],[Bnodes[1].value],[Bnodes[2].value]]);
            let Ainverse = math.inv(matrixA);
            let ans = math.multiply(Ainverse,matrixB);
            let result = document.querySelector(".threeByThreeAns");

            console.log(result);
            result.innerHTML="x="+math.round(ans.subset(math.index(0,0))*1000)/1000+"<br>"+"y="+ math.round(ans.subset(math.index(1,0))*1000)/1000+"<br>"+"z="+math.round(ans.subset(math.index(2,0))*1000)/1000;
        }
        function fourByFourSolve(){
            let Anodes=document.querySelectorAll(".fourbyfour .childOfA");
            let Bnodes=document.querySelectorAll(".fourbyfour .childOfB");
            console.log(Anodes[0])
            let matrixA = math.matrix([[Anodes[0].value,Anodes[1].value,Anodes[2].value,Anodes[3].value],
                                        [Anodes[4].value,Anodes[5].value,Anodes[6].value,Anodes[7].value],
                                        [Anodes[8].value,Anodes[9].value,Anodes[10].value,Anodes[11].value],
                                        [Anodes[12].value,Anodes[13].value,Anodes[14].value,Anodes[15].value]]);
            let matrixB = math.matrix([[Bnodes[0].value],[Bnodes[1].value],[Bnodes[2].value],[Bnodes[3].value]]);
            let Ainverse = math.inv(matrixA);
            let ans = math.multiply(Ainverse,matrixB);
            let result = document.querySelector(".threeByThreeAns");

            console.log(result);
            result.innerHTML="w="+math.round(ans.subset(math.index(0,0))*1000)/1000+"<br>"+"x="+math.round(ans.subset(math.index(1,0))*1000)/1000+"<br>"+"y="+ math.round(ans.subset(math.index(2,0))*1000)/1000+"<br>"+"z="+math.round(ans.subset(math.index(3,0))*1000)/1000;
        }
    </script>
    <title>Document</title>
</head>
<body>
    <select onchange="changeDimension()" class="matrixType" id="matrixType">
        <option value="2">2 by 2</option>
        <option value="3">3 by 3</option>
        <option value="4">4 by 4</option>
    </select>
    <div class="twobytwo">
        <div class="matrixA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
        </div>
        <div class="matrixX">
            <input value="x" type="text" disabled>
            <input value="y" type="text" disabled>
        </div>
        <div>=</div>
        <div class="matrixB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
        </div>
        <button onclick="twoByTwoSolve(this)">Solve</button>
        <div class="twoByTwoAns"></div>
    </div>
    <div class="threebythree">
        <div class="matrixA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
        </div>
        <div class="matrixX">
            <input value="x" type="text" disabled>
            <input value="y" type="text" disabled>
            <input value="z" type="text" disabled>
        </div>
        <div>=</div>
        <div class="matrixB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
        </div>
        <button onclick="threeByThreeSolve()">Solve</button>
        <div class="threeByThreeAns"></div>
    </div>
    <div class="fourbyfour">
        <div class="matrixA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
            <input type="number" class="childOfA">
        </div>
        <div class="matrixX">
            <input value="w" type="text" disabled>
            <input value="x" type="text" disabled>
            <input value="y" type="text" disabled>
            <input value="z" type="text" disabled>
        </div>
        <div>=</div>
        <div class="matrixB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
            <input type="number" class="childOfB">
        </div>
        <button onclick="fourByFourSolve()">Solve</button>
        <div class="fourByFourAns"></div>
    </div>
    
</body>
</html>